!function(){"use strict";function t(t,n,r){var e="<table border=1>".concat(n.map((function(t,n){return"<tr>".concat(t.map((function(t,r){return 1===t?"<td \n        data-x=".concat(r,"\n        data-y=").concat(n,'\n        class="cell alive" \n        ></td>'):"<td \n      data-x=".concat(r,"\n      data-y=").concat(n,'\n      class="cell dead" \n      ></td>')})).join(""),"</tr>")})).join(""),"</table>");t.innerHTML=e,t.querySelector("table").addEventListener("click",(function(t){var n=t.target;if(!n)throw Error;var e=n.getAttribute("data-x"),a=n.getAttribute("data-y");e>=0&&a>=0&&r(Number(e),Number(a))}))}function n(t,n,r){var e=t[r];if(void 0===e)return 0;var a=e[n];return void 0===a?0:a}function r(r,e,a){var c,i=!1;a.innerHTML='<div class="field-wrapper"></div><button>Start</button>';var o=a.querySelector(".field-wrapper"),u=a.querySelector("button"),d=new Array(e).fill(0).map((function(){return new Array(r).fill(0)})),l=function n(r,e){d[e][r]=0===d[e][r]?1:0,t(o,d,n)};function f(){i=!1,u.innerHTML="Start",clearInterval(c)}t(o,d,l),u.addEventListener("click",(function(){i?f():(i=!0,u.innerHTML="Stop",c=setInterval((function(){d=function(t){return t.map((function(r,e){return r.map((function(r,a){var c,i=function(t,r,e){for(var a=0,c=t-1;c<=t+1;c+=1)a+=Number(n(e,c,r-1));for(var i=t-1;i<=t+1;i+=1)a+=Number(n(e,i,r+1));return(a+=Number(n(e,t-1,r)))+Number(n(e,t+1,r))}(a,e,t),o=n(t,a,e);return 3===(c=i)?1:c>3||c<2?0:2===c&&1===o?1:0}))}))}(d),t(o,d,l),function(t){for(var n=0;n<t.length;n+=1)for(var r=t[n],e=0;e<r.length;e+=1)if(r[e])return!0;return!1}(d)||(alert("All cells died"),f())}),500))}))}var e=document.createElement("div"),a=document.createElement("div");document.body.appendChild(e),document.body.appendChild(a),r(6,6,e),r(10,10,a)}();